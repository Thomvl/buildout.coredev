<?xml version="1.0" encoding="utf-8"?>
<rules xmlns="http://namespaces.plone.org/diazo"
       xmlns:css="http://namespaces.plone.org/diazo/css"
       xmlns:xhtml="http://www.w3.org/1999/xhtml"
       xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  <!-- The condition makes sure that theme is only applied when served in the 
       plone main_template. This is necessary for functional edit popups in 
       Tiny, for example. -->
  <theme href="index.html" css:if-content="#visual-portal-wrapper"/>

  <!-- Head rules
       ================================================================== -->
  <!-- Create conditional comment IE detection -->
  <before css:theme="html">
<!--[if lt IE 7]> <html class="no-js ie ie6 oldie"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie ie7 oldie"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie ie8 oldie"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
  </before>

  <before css:theme-children="html">
<!--<![endif]-->
  </before>

  <!-- Attributes -->
  <copy attributes="lang" css:theme="html" css:content="html"/>

  <!-- Pull in Plone Meta -->
  <before css:theme="title" css:content="meta" />

  <!-- Base tag -->
  <before css:theme-children="head" css:content="base"/>

  <!-- Title -->
  <replace css:theme="title" css:content="title" />

  <!-- Links -->
  <!-- Make sure none of the non standard plone stylesheets get roled in 
       together with the standard ones in portal_css -->
  <before css:theme="head link" css:content="head link"/>

  <!-- Style -->
  <after css:theme="head link" css:content="head style"/>

  <!-- Scripts -->
  <after css:theme="head link" css:content="head script"/>

  <!-- Body rules
       ================================================================== -->
  <replace css:theme="body" css:content="body"/>

</rules>