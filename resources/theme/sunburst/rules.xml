<?xml version="1.0" encoding="utf-8"?>
<rules xmlns="http://namespaces.plone.org/diazo"
       xmlns:css="http://namespaces.plone.org/diazo/css"
       xmlns:xhtml="http://www.w3.org/1999/xhtml"
       xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  <!-- The condition makes sure that theme is only applied when served in the 
       plone main_template. This is necessary for functional edit popups in 
       Tiny, for example. -->
  <theme href="index.html" css:if-content="#visual-portal-wrapper"/>

  <!-- Head rules
       ================================================================== -->
  <!-- Create conditional comment IE detection -->
  <before css:theme="html">
<!--[if lt IE 7]> <html class="no-js ie ie6 oldie"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie ie7 oldie"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie ie8 oldie"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
  </before>

  <before css:theme-children="html">
<!--<![endif]-->
  </before>

  <!-- Attributes -->
  <copy attributes="lang" css:theme="html" css:content="html"/>

  <!-- Pull in Plone Meta -->
  <before css:theme="title" css:content="meta" />

  <!-- Base tag -->
  <before css:theme-children="head" css:content="base"/>

  <!-- Title -->
  <replace css:theme="title" css:content="title" />

  <!-- Links -->
  <!-- Make sure none of the non standard plone stylesheets get roled in 
       together with the standard ones in portal_css -->
  <before css:theme="head link" css:content="head link"/>

  <!-- Style -->
  <after css:theme="head link" css:content="head style"/>

  <!-- Scripts -->
  <after css:theme="head link" css:content="head script"/>

  <!-- Body rules
       ================================================================== -->
  <!-- Attributes -->
  <copy attributes="*" css:theme="body" css:content="body"/>

  <!-- Change the logo in content and the copy the portal-top children -->
  <replace css:content="#portal-logo > img">
    <img>
      <xsl:attribute name="src">/++theme++sunburst/img/logo.png</xsl:attribute>
      <xsl:attribute name="width">215</xsl:attribute>
      <xsl:attribute name="height">56</xsl:attribute>
      <xsl:attribute name="title">
        <xsl:value-of select="./@title"/>
      </xsl:attribute>
      <xsl:attribute name="alt">
        <xsl:value-of select="./@alt"/>
      </xsl:attribute>
    </img>
  </replace>
  <copy css:theme="#portal-top > .cell" css:content-children="#portal-top"/>

  <!-- Change the layout table tbody into sunburst deco cells and then
       copy them over into the theme portal-columns div. -->
  <rules if-content="//*[@id='portal-column-one'] and //*[@id='portal-column-two']">
    <copy css:theme="#portal-columns">
      <div id="portal-column-content" class="cell width-1:2 position-1:4">
        <xsl:apply-templates css:select="td#portal-column-content > *" />
      </div>
      <div id="portal-column-one" class="cell width-1:4 position-0">
        <xsl:apply-templates css:select="td#portal-column-one > *" />
      </div>
      <div id="portal-column-two" class="cell width-1:4 position-3:4">
        <xsl:apply-templates css:select="td#portal-column-two > *" />
      </div>
    </copy>
  </rules>
  <rules if-content="//*[@id='portal-column-one'] and not(//*[@id='portal-column-two'])">
    <copy css:theme="#portal-columns">
      <div id="portal-column-content" class="cell width-3:4 position-0">
        <xsl:apply-templates css:select="td#portal-column-content > *" />
      </div>
      <div id="portal-column-one" class="cell width-1:4 position-0">
        <xsl:apply-templates css:select="td#portal-column-one > *" />
      </div>
    </copy>
  </rules>
  <rules if-content="not(//*[@id='portal-column-one']) and //*[@id='portal-column-two']">
    <copy css:theme="#portal-columns">
      <div id="portal-column-content" class="cell width-3:4 position-0">
        <xsl:apply-templates css:select="td#portal-column-content > *" />
      </div>
      <div id="portal-column-two" class="cell width-1:4 position-3:4">
        <xsl:apply-templates css:select="td#portal-column-two > *" />
      </div>
    </copy>
  </rules>
  <rules if-content="not(//*[@id='portal-column-one']) and not(//*[@id='portal-column-two'])">
    <copy css:theme="#portal-columns">
      <div id="portal-column-content" class="cell width-full position-0">
        <xsl:apply-templates css:select="td#portal-column-content > *" />
      </div>
    </copy>
  </rules>
  
  <after css:theme-children="#portal-footer-wrapper > .cell" css:content="#portal-footer"/>
  <after css:theme-children="#portal-footer-wrapper > .cell" css:content="#portal-colophon"/>
  <after css:theme-children="#portal-footer-wrapper > .cell" css:content="#portal-siteactions"/>
  <after css:theme-children="#portal-footer-wrapper > .cell" css:content="#visual-portal-wrapper > script"/>
  <after css:theme-children="#portal-footer-wrapper > .cell" css:content="#spinner"/>

</rules>

<!--
  <rules css:if-content="#visual-portal-wrapper">
  </rules>

_base_properties.sass

_member.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/member.css" />
_base.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/base.css" />
_public.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/public.css" />
_columns.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/columns.css" />
_authoring.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/authoring.css" />
_portlets.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/portlets.css" />
_controlpanel.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/controlpanel.css" />
_deprecated.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/deprecated.css" />
_forms.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/forms.css" />
_navtree.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/navtree.css" />
_invisibles.sass
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/invisibles.css" />


!   <link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/++resource++plone.app.discussion.stylesheets/discussion.css" />
!   <link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/ploneKss.css" />
!   <link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/++resource++tinymce.stylesheets/tinymce.css" />


_print.sass
<link rel="stylesheet" type="text/css" media="print" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/print.css" />


!  _kupuplone.sass


_mobile.sass
<link rel="stylesheet" type="text/css" media="handheld, screen and (max-device-width: 480px)" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/mobile.css" />


<style type="text/css" media="screen">@import url(http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/++resource++plone.app.jquerytools.dateinput.css);</style>


<!- -[if lt IE 8]>    
<link rel="stylesheet" type="text/css" media="screen" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/IEFixes.css" />
<![endif]- ->
_IEFixes.sass
    
<link rel="stylesheet" type="text/css" media="all" href="http://127.0.0.1:8080/Default/portal_css/Sunburst%20Theme/ploneCustom.css" />
_ploneCustom.sass





      <before css:theme-children="#visual-portal-wrapper" css:content="#visual-portal-wrapper > *:not(#portal-top)" />
      <replace css:content="#content">
        <article id="content">
          <xsl:choose>
            <xsl:when css:test="#content > h1.documentFirstHeading">
              <header>
                  <xsl:apply-templates css:select="#viewlet-above-content-title" />
                  <xsl:apply-templates css:select="#content > h1.documentFirstHeading" />
                  <xsl:apply-templates css:select="#viewlet-below-content-title" />
                  <xsl:apply-templates css:select="#content > *.documentDescription" />
              </header>
              <xsl:apply-templates css:select="#content > *:not(#viewlet-above-content-title):not(.documentFirstHeading):not(#viewlet-below-content-title):not(.documentDescription)" />
            </xsl:when>
            <xsl:otherwise>
              <xsl:apply-templates css:select="#content > *" />
            </xsl:otherwise>
          </xsl:choose>
        </article>
      </replace>
      <replace css:content="body.portaltype-topic #content-core, body.portaltype-folder #content-core">
        <section id="content-core">
          <xsl:apply-templates css:select-children="#content-core" />
        </section>
      </replace>
      <replace css:content="body.template-folder_full_view #content-core > div.item">
        <article>
          <xsl:attribute name="class">
              <xsl:value-of select="./@class"/>
          </xsl:attribute>
          <header>
              <xsl:apply-templates select="./*[not(position() > 2)]"/>
          </header>
          <xsl:apply-templates select="./*[position() > 2]"/>
        </article>
      </replace>
      <replace css:content="#portal-columns" if-content='//*[@id="portal-column-one"] and //*[@id="portal-column-two"]'>
        <div id="portal-columns" class="row">
          <div id="portal-column-content"
               class="cell width-2:3 position-0">
            <xsl:apply-templates select='./div[@id="portal-column-content"]/*'/>
          </div>
          <xsl:call-template name="column-one"/>
        </div>
        <xsl:call-template name="column-two"/>
      </replace>
      <replace css:content="#portal-columns" if-content='//*[@id="portal-column-one"] and not(//*[@id="portal-column-two"])'>
        <div id="portal-columns" class="row">
          <div id="portal-column-content"
               class="cell width-2:3 position-0">
            <xsl:apply-templates select='./div[@id="portal-column-content"]/*'/>
          </div>
          <xsl:call-template name="column-one"/>
        </div>
      </replace>
      <replace css:content="#portal-columns" if-content='not(//*[@id="portal-column-one"]) and //*[@id="portal-column-two"]'>
        <div id="portal-columns" class="row">
          <div id="portal-column-content"
               class="cell width-full position-0">
            <xsl:apply-templates select='./div[@id="portal-column-content"]/*'/>
          </div>
        </div>
        <xsl:call-template name="column-two"/>
      </replace>
      <replace css:content="#portal-columns" if-content='not(//*[@id="portal-column-one"]) and not(//*[@id="portal-column-two"])'>
        <div id="portal-columns" class="row">
          <div id="portal-column-content"
               class="cell width-full position-0">
            <xsl:apply-templates select='./div[@id="portal-column-content"]/*'/>
          </div>
        </div>
      </replace>
      <rules css:if-content="body:not([class*=edit])">
          <replace css:content-children=".pfg-form form">
            <p class="form-legend">
                <span class="required-legend legend"><span title="Verplicht" class="required">■</span></span><!- - <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAARCAMAAAASeod7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABhQTFRF////0tLS1dXVAH++1tbW09PT2NjY1NTUV7IVlwAAADBJREFUeNpiYGNnwgNYGViYQYABB2CEyDPgl2fAL8+AX54BvzzDqDwl8oz4AUCAAQBBUQDi+DgnOwAAAABJRU5ErkJggg=="/> - -> = verplicht veld
                <xsl:if css:test='.field.error'>
                    <span class="error-legend legend"><!- - - -></span> = onjuist of niet volledig ingevuld veld
                </xsl:if>
            </p>
            <xsl:apply-templates select="./*" />
          </replace>
          <replace css:content="div.field[class*=ArchetypesLabelWidget]">
             <div class="formQuestionInfo"><xsl:apply-templates css:select='.label'/></div>
          </replace>
          <replace css:content-children="div.field[class*=Archetypes]:not([class*=ArchetypesLabelWidget])">
            <xsl:apply-templates select='./*[contains(concat(" ", normalize-space(@class), " "), " fieldErrorBox ")]'/>
            <xsl:if test='./*[contains(concat(" ", normalize-space(@class), " "), " formQuestion ")]'>
              <dl class="formQuestionInfo">
                  <dt><xsl:apply-templates select='./*[contains(concat(" ", normalize-space(@class), " "), " formQuestion ")]'/></dt>
                  <dd><xsl:apply-templates select='./*[contains(concat(" ", normalize-space(@class), " "), " formHelp ")]'/></dd>
              </dl>
            </xsl:if>
              <div class="formAnswer">
                <xsl:apply-templates select='./*[not(contains(concat(" ", normalize-space(@class), " "), " fieldErrorBox ")) and
                                                 not(contains(concat(" ", normalize-space(@class), " "), " formQuestion ")) and
                                                 not(contains(concat(" ", normalize-space(@class), " "), " formHelp ")) ]'/>
              </div>
          </replace>
      </rules>
      <replace css:content=".item-folder_summary_view h2:not(.headline)">
          <h3>
              <xsl:apply-templates select="./text()"/>
          </h3>
      </replace>
      <replace css:content=".item-folder_tabular_downloads_view tbody">
          <tbody>
            <xsl:apply-templates select="./*[not(position() > 4)]"/>
          </tbody>
      </replace>
      
      <after css:theme="body > script:last-child" css:content="body script" method="raw"/>
      <drop css:content="body script"/>

      <after css:theme="#header" css:content-children="#portal-siteactions"/>
      <drop css:content="#portal-siteactions"/>

      <before css:theme="#portal-header" css:content="#portal-header > p" />
      <before css:theme-children="#portal-header" css:content="#portal-logo" />
      <rules if-content="not(//*[@id='age-check'])">
          <after css:theme-children="#portal-bardienst" css:content="#portal-personaltools"  />
          <after css:theme-children="#portal-bardienst" css:content="#portal-searchbox"/>
          <after css:theme-children="#portal-globalnav" css:content="#portal-globalnav > li"/>
          <copy css:theme="#portal-globalnav > li:first-child a" css:content="#portal-logo" attributes="href"/>
          <copy css:theme="#portal-globalnav" css:content="#portal-globalnav" attributes="class"/>
      </rules>
      <rules css:if-content="#age-check">
          <replace css:theme="#portal-bardienst" css:content="#portal-personaltools-wrapper" />
          <drop css:theme="#portal-globalnav"/>
          <drop css:content="#portlets-above"/>
          <drop css:content="#portlets-below"/>
          <drop css:content="#portlets-footer"/>
          <drop css:content="#portal-breadcrumbs"/>
          <drop css:content=".carousel"/>
      </rules>
      <rules css:if-content="#content.barservice">
          <rules css:if-content="div.carousel">
              <drop css:content=".bardienstHome div"/>
              <drop css:content=".bardienstHome a"/>
              <strip css:content=".bardienstHome"/>
              <strip css:content=".bardienstHomeWrap"/>
          </rules>
      </rules>
      <rules css:if-content="#content.my-barservice">
          <drop css:content=".carousel"/>
      </rules>
      <rules css:if-content="body:not([class*=document]):not([class*=news-item]):not([class*=event])">
          <drop css:content=".newsImageContainer"/>
      </rules>
      
      <drop css:content="#kss-spinner"/>
      <drop css:content="#portal-advanced-search"/>
      <drop css:content="#portal-searchbox .searchSection"/>
      <drop css:content="a[class*=contenttype-] > img" />
      <drop css:content="div.commentActions" />
      <drop css:content="button.reply-to-comment-button" />
      <drop css:content="div[class*='form.widgets.text'] span.required" />
      <strip css:content=".portletWrapper" />

      <rules  css:if-content="body:not(.manager)">
        <drop css:content="#edit-bar"/>
        <drop css:content=".documentByLine"/>
      </rules>
  </rules>

  <theme href="s5.html"  css:if-content="#slideProj"/> 
  <rules css:if-content="#slideProj">
      <after css:theme-children="#controls" css:content-children="#controls"/>
      <after css:theme-children="#currentSlide" css:content-children="#currentSlide"/>
      <after css:theme-children="#header" css:content-children="#header"/>
      <after css:theme-children="#footer" css:content-children="#footer"/>
      <after css:theme-children="body > .presentation" css:content-children="body > .presentation"/>
  </rules>
-->  